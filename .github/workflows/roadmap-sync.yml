name: ğŸ¯ ROADMAP-Project Synchronization

on:
  issues:
    types: [opened, edited, closed, reopened, labeled, unlabeled, milestoned, demilestoned]
  schedule:
    # æ¯æ—¥ 9:00 JST ã« ROADMAP åŒæœŸãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
    - cron: '0 0 * * *'  # UTC 00:00 = JST 09:00
  workflow_dispatch:
    inputs:
      force_sync:
        description: 'Force complete ROADMAP synchronization'
        type: boolean
        default: false

jobs:
  roadmap-sync:
    runs-on: ubuntu-latest
    name: ğŸ“Š ROADMAP Synchronization

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'

    - name: ROADMAP Sync Analysis
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        echo "ğŸ¯ ROADMAP synchronization processing..."
        echo "Issue Number: ${{ github.event.issue.number || 'scheduled' }}"
        echo "Milestone: ${{ github.event.issue.milestone.title || 'none' }}"

        # Check if ROADMAP.md needs updating
        if [ -f "ROADMAP.md" ]; then
          echo "ROADMAP.md exists, checking for updates needed..."
        else
          echo "ROADMAP.md not found, creating basic structure..."
        fi
