name: ðŸ“‹ Issue Management Automation

on:
  issues:
    types: [opened, edited, labeled, unlabeled]
  issue_comment:
    types: [created]
  pull_request:
    types: [opened, closed]
  pull_request_target:
    types: [closed]

jobs:
  issue-automation:
    runs-on: ubuntu-latest
    name: ðŸ¤– Smart Issue Management

    steps:
    - name: Checkout
      uses: actions/checkout@v4

    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '20'

    - name: Issue Analysis and Automation
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        echo "ðŸ¤– Issue automation processing..."
        echo "Issue Number: ${{ github.event.issue.number }}"
        echo "Issue Title: ${{ github.event.issue.title }}"
        echo "Issue Labels: ${{ join(github.event.issue.labels.*.name, ', ') }}"

        # Auto-label issues based on content
        if echo "${{ github.event.issue.title }}" | grep -i "bug\|error\|fail"; then
          echo "Adding bug label..."
        fi

        if echo "${{ github.event.issue.title }}" | grep -i "feature\|enhance"; then
          echo "Adding enhancement label..."
        fi
