# Claude Desktopç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
# 
# ğŸš¨ é‡è¦: Claude Desktopã¯STDIOé€šä¿¡ã®ãŸã‚ã€æ¨™æº–å‡ºåŠ›ã«ãƒ­ã‚°ãŒæ··åœ¨ã™ã‚‹ã¨å‹•ä½œã—ã¾ã›ã‚“
# ã“ã®è¨­å®šã§ã¯ãƒ­ã‚°ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã«å‡ºåŠ›ã—ã€STDIOã‚’JSONé€šä¿¡å°‚ç”¨ã«ã—ã¾ã™

[server]
# STDIOé€šä¿¡è¨­å®šï¼ˆClaude Desktopå¿…é ˆï¼‰
stdio = true

# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ã‚’åˆ¶é™ï¼ˆERRORä»¥ä¸Šã®ã¿ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ï¼‰
# é€šå¸¸ã®INFOãƒ­ã‚°ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã«å‡ºåŠ›ã•ã‚Œã¾ã™
log_level = "error"

# ãƒ­ã‚°ä¿æŒãƒãƒªã‚·ãƒ¼ï¼ˆæœ¬ç•ªç’°å¢ƒæ¨å¥¨ï¼‰
[server.log_retention]
policy = "external"  # OS/ãƒ­ã‚°ç®¡ç†ãƒ„ãƒ¼ãƒ«ä»»ã›
days = 30           # é–‹ç™ºæ™‚ã¯30æ—¥ã§å‰Šé™¤ã‚‚å¯èƒ½
count = 50          # ã¾ãŸã¯50ãƒ•ã‚¡ã‚¤ãƒ«ä¿æŒ
size_mb = 100       # ã¾ãŸã¯100MBåˆ¶é™

# ãƒ­ã‚°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†é›¢ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›ã®ã¿ï¼‰
[server.log_module]
separation = "separated"  # ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ¥ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«åˆ†é›¢
# ä»¥ä¸‹ã®ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ãŒ logs/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ä½œæˆã•ã‚Œã¾ã™:
# - mcp-core.log      : MCPã‚µãƒ¼ãƒãƒ¼åŸºæœ¬å‹•ä½œ
# - wordpress.log     : WordPress ãƒãƒ³ãƒ‰ãƒ©ãƒ¼
# - transport.log     : STDIO é€šä¿¡
# - security.log      : ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£æŸ»
# - plugin.log        : ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 

[transport]
# Claude Desktopã§ã¯STDIO Transportå¿…é ˆ
transport_type = "stdio"

# STDIO Transportè¨­å®š
[transport.stdio]
buffer_size = 8192
timeout_ms = 30000

# HTTP ã‚µãƒ¼ãƒãƒ¼è¨­å®š (Claude Desktopä½¿ç”¨æ™‚ã¯ä¸è¦)
[transport.http]
enabled = false
bind_addr = "127.0.0.1:8081"
cors_origins = ["*"]
max_request_size = 1048576
timeout_ms = 30000

# TCP ã‚µãƒ¼ãƒãƒ¼è¨­å®š (Claude Desktopä½¿ç”¨æ™‚ã¯ä¸è¦)  
[transport.tcp]
enabled = false

# WordPress ãƒãƒ³ãƒ‰ãƒ©ãƒ¼è¨­å®š
[handlers.wordpress]
enabled = true
url = "https://your-wordpress-site.com"
username = "your_username" 
password = "your_app_password"  # WordPress Application Password
timeout_ms = 30000
max_posts = 100
default_post_status = "publish"
allowed_post_types = ["post", "page"]
allowed_post_statuses = ["publish", "draft", "private"]

[handlers.wordpress.cache]
enabled = true
ttl_seconds = 300
max_entries = 1000

[handlers.wordpress.rate_limiting]
enabled = true
requests_per_minute = 60
burst_size = 10

[handlers.wordpress.retry]
enabled = true
max_attempts = 3
initial_delay_ms = 1000
max_delay_ms = 5000
backoff_multiplier = 2.0

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
[security]
enable_auth = false
allowed_hosts = ["127.0.0.1", "localhost"]
max_connections = 100
connection_timeout_ms = 30000

[security.rate_limiting]
enabled = true
requests_per_minute = 100
burst_size = 20

# ãƒ­ã‚°è¨­å®š
[logging]
level = "info"
format = "json"
include_timestamp = true
include_caller = false

[logging.file]
enabled = false
path = "mcp-rs.log"
max_size_mb = 10
max_files = 5
rotate_daily = true