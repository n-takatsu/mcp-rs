# MCP-RS Configuration - モジュール別ログ分離設定例
# 
# 本番運用を想定したログ分離とパフォーマンス最適化設定

[server]
bind_addr = "127.0.0.1:8081"
stdio = false
log_level = "info"

# ログ保持ポリシー設定
[server.log_retention]
policy = "external"  # 本番推奨：OS/ログ管理ツール任せ
days = 30           # 開発環境用：30日後削除
count = 50          # 分散ファイル用：各モジュール50ファイル保持
size_mb = 500       # 大量ログ用：500MB制限

# ログモジュール分離設定（本格運用推奨）
[server.log_module]
separation = "separated"  # モジュール別ファイル分離

# separation設定の選択肢：
# - "single": 単一ファイル（mcp-rs.log）- 開発・小規模環境用
# - "separated": モジュール別分離 - 本番推奨
#   ├── mcp-core.log      : MCP サーバー基本動作
#   ├── wordpress.log     : WordPress ハンドラー
#   ├── database.log      : データベース関連
#   ├── transport.log     : HTTP/WebSocket 通信
#   ├── security.log      : セキュリティ監査
#   └── plugin.log        : プラグインシステム
# - "hybrid": ハイブリッド（概要＋詳細分離）
#   ├── mcp-summary.log   : エラー・警告の概要（WARN以上）
#   └── 上記モジュール別ログ（詳細情報）

[transport]
transport_type = "http"

[transport.http]
addr = "127.0.0.1"
port = 8081
max_connections = 100
timeout_ms = 30000
enable_cors = true

[handlers.wordpress]
url = "https://demo.wordpress.com"
username = "demo_user"
password = "${WORDPRESS_PASSWORD}"
timeout = 30000
cache_ttl = 300
max_retries = 3